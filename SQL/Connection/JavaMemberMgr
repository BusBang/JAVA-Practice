package kh.java.mgr;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Scanner;

import kh.java.db.DBConnect;
import kh.java.db.Member;

public class MemberMgr {
	Scanner sc = new Scanner(System.in);

	public void main() {
		while(true) {
			System.out.println("=====회원 관리 프로그램=====");
			System.out.println("1. 회원 전체 조회");		//select
			System.out.println("2. 회원 아이디 조회");	//select 
			System.out.println("3. 회원 이름으로 조회");	//select
			System.out.println("4. 회원 가입");			//insert
			System.out.println("5. 회원 정보 변경");		//update
			System.out.println("6. 회원 삭제");			//delete
			System.out.println("0. 프로그램 종료");
			System.out.print("선택 >>");
			int sel = sc.nextInt();
			switch(sel) {
			case 2 : idSearch();
			break;
			case 3 : nameSearch();
			break;
			case 0 :
				System.out.println("프로그램 종료..");
				return;
			
			
			}
		}
		
	}
	private void nameSearch() {
		System.out.print("조회할 이름 입력 : ");
		String memberName = sc.next();
		DBConnect db = new DBConnect();
		ArrayList<Member> memberList = db.nameSearch(memberName);
		if(memberList.isEmpty()) { //개체가 만들어진 것이기 때문에 isEmpty() 라고 써야함
			System.out.println("이름을 조회할 수 없습니다. ");
		} else {
			System.out.println("아이디 / 비밀번호 / 이름 / 성별 / 나이 / 전화번호 / 취미 / 가입일자");
			for(int i = 0; i<memberList.size(); i++) {
				System.out.println(memberList.get(i));
			}
		}
		
	}
	public void idSearch() {
		System.out.print("조회할 아이디 입력 : ");
		String memberId = sc.next();
		DBConnect db = new DBConnect();
		Member member = db.idSearch(memberId);
		if(member == null) {
			System.out.println("아이디를 조회할 수 없습니다.");
		}else {
			System.out.println("아이디 : "+member.getMemberId());
			System.out.println("비밀번호 : "+member.getMemberPw());
			System.out.println("이름 : "+member.getMemberName());
			System.out.println("성별 : "+member.getGender());
			System.out.println("나이 : "+member.getAge());
			System.out.println("전화번호 : "+member.getPhone());
			System.out.println("취미 : "+member.getHobby());
			System.out.println("가입일자 : "+member.getEnrollDate());
		}
	}
	

}
